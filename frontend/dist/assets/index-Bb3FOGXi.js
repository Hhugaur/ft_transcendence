(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();class W{constructor(e,s){this.path=e,this.create=s}make(){return this.create()}getPath(){return this.path}}const I=class I{constructor(){this.appRoot=document.getElementById("app"),this.routes=[]}static getInstance(){return I.INSTANCE||(I.INSTANCE=new I),I.INSTANCE}register(e,s){this.routes.push(new W(e,s.getElemFactory()))}warp(e,s=!0){const r=this.routes.find(a=>a.getPath()===e);if(!r){console.warn(`unable to find path ${e} returning to home`),e!=="/"&&this.warp("/");return}s&&window.history.pushState(null,"",e);const n=r.make();this.appRoot.replaceChildren(n),this.listeners(n)}launch(){document.addEventListener("DOMContentLoaded",()=>this.launch_impl())}launch_impl(){window.addEventListener("popstate",()=>this.warp(window.location.pathname,!1)),this.warp(window.location.pathname)}listeners(e){e.querySelectorAll("a[data-route]").forEach(s=>{s.removeEventListener("click",V),s.addEventListener("click",V)})}};I.INSTANCE=null;let O=I;function V(t){const s=t.currentTarget.getAttribute("data-route");s&&(t.preventDefault(),O.getInstance().warp(s))}class G{constructor(e){this.factory=e}make(){return this.factory()}getElemFactory(){return this.factory}}class _ extends G{constructor(){super(()=>{const e=document.createElement("div");return console.error("unable to use this component's factory"),e}),this.className="",this.textContent="",this.childs=[]}appendChild(e){this.childs.push(e)}appendChilds(e){this.childs.forEach(s=>e.appendChild(s))}setTextContent(e){e.textContent=this.textContent}setClassName(e){e.className=this.className}}class A extends G{constructor(e){super(e)}}class P extends _{constructor(e){super(),this.link=e}make(){const e=document.createElement("a");return e.href="#",e.setAttribute("data-route",this.link),this.setTextContent(e),this.setClassName(e),this.appendChilds(e),e}}let z;const Y=()=>{const t=document.createElement("div");t.className="flex text-bg0 justify-end mr-10 mt-4";{const e=document.createElement("button");e.className="px-15 py-5 bg-bg2 rounded-2xl grayscale-50 underline hover:cursor-pointer",e.textContent="Se connecter";const s=new P("/login");s.appendChild(e),t.appendChild(s.make()),z=0}return t},X=()=>{const t=document.createElement("div");t.className="flex flex-col items-center text-2xl text-bg0";const e=document.createElement("button");e.className="hover:cursor-pointer mt-70 px-15 py-5 bg-bg2 rounded-2xl",e.textContent="Classique";const s=document.createElement("button");s.className="hover:cursor-pointer mt-10 px-17 py-5 bg-bg2 rounded-2xl",s.textContent="Tournoi";let r="classic";const n=()=>{const o=document.createElement("input");o.type="text",o.placeholder="Entrez votre pseudo",o.className="hover:cursor-pointer text-center mx-auto mt-70 px-15 py-5 bg-bg2 rounded-2xl",t.replaceChild(o,e);const c=document.createElement("button");c.textContent="Jouer",c.className="hover:cursor-pointer mx-auto mt-10 px-17 py-5 bg-bg2 rounded-2xl",c.addEventListener("click",()=>{const l=o.value.trim();if(l.length===0){alert("Veuillez entrer un pseudo.");return}localStorage.setItem("guestName",l),r==="classic"?window.location.href="/game":window.location.href="/tournament"}),t.replaceChild(c,s)},a=o=>{r=o,z===1?window.location.href=o==="classic"?"/game":"/tournament":n()};return e.addEventListener("click",()=>a("classic")),s.addEventListener("click",()=>a("tournament")),t.appendChild(e),t.appendChild(s),t},J=new A(()=>{document.body.classList.remove("bg-bg2"),document.body.classList.add("bg-bg1");const t=document.createElement("div");t.appendChild(Y());const e=document.createElement("div");e.className="flex flex-col items-center mx-[25%] bg-bg11 -mt-10 p-7 rounded-3xl";const s=document.createElement("p");return s.className="text-8xl hover:cursor-default font-bitcount text-bg0",s.textContent="TRANSCENDENCE",e.appendChild(s),t.appendChild(e),t.appendChild(X()),t});function D(t,e,s,r){const n=document.createElement("input");return n.type=t,e&&(n.placeholder=e),n.id=s,n.className=r,n}function j(t,e,s){const r=document.createElement("div"),n=document.createElement("label");n.className="text-bg0 ml-1",n.textContent=t;const a=document.createElement("p");a.className="text-center p-2 bg-txt0 text-bg0 text-xl rounded-sm cursor-pointer ml-1 mr-[40%]",a.textContent=e;const o=document.createElement("input");t=="Password :"?(o.className="hidden p-2 bg-bg0 text-center rounded-sm flex",o.type="password"):(o.className="hidden p-2 bg-bg0 text-center rounded-sm ml-2 mt-1 flex",o.type="text"),o.value=e;let c=e,l=!1;a.addEventListener("click",()=>{a.classList.add("hidden"),o.classList.remove("hidden"),d&&d.classList.remove("hidden"),o.value=c,o.focus(),o.select()}),o.addEventListener("keydown",i=>{if(i.key==="Enter"){const p=o.value.trim();p!==c&&(c=p,t==="Password :"?a.textContent="••••••":a.textContent=p),l=!0,o.classList.add("hidden"),a.classList.remove("hidden"),d&&d.classList.add("hidden")}i.key==="Escape"&&(o.value=c,l=!1,o.classList.add("hidden"),a.classList.remove("hidden"),d&&d.classList.add("hidden"))}),o.addEventListener("blur",()=>{l||(o.value=c,o.classList.add("hidden"),a.classList.remove("hidden"),d&&d.classList.add("hidden")),l=!1}),r.appendChild(n),r.appendChild(a);let d=null;if(t==="Password :"){const i=document.createElement("button");i.type="button",i.textContent="Afficher",i.className="text-sm text-txt1 underline whitespace-nowrap",i.addEventListener("mousedown",p=>{p.preventDefault()}),i.addEventListener("click",()=>{o.type=o.type==="password"?"text":"password",i.textContent=o.type==="password"?"Afficher":"Masquer"}),d=document.createElement("div"),d.className="hidden flex items-center gap-2 mt-1 ml-2",d.appendChild(o),d.appendChild(i),r.appendChild(d)}else r.appendChild(o);return{element:r,getValue:()=>o.value,setValue:i=>{c=i,o.value=i,t==="Password :"?a.textContent="••••••":a.textContent=i}}}const K=new A(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const t=document.createElement("div"),e=document.createElement("div");e.className="flex justify-center";const s=new P("/"),r=document.createElement("button");r.className="underline ml-[5%] text-bg0",r.textContent="retour",s.appendChild(r),t.appendChild(s.make());const n=document.createElement("div");n.className="bg-bg1 border-bg0 border-4 px-30 py-30 my-[10%] rounded-3xl";const a=document.createElement("p");a.className="text-bg0 font-bitcount hover:cursor-default text-5xl text-center -mt-[35%]",a.textContent="CONNEXION",n.appendChild(a);const o=document.createElement("form");o.className="grid";const c=D("text","Username","Username","p-2 bg-bg0 mt-[28%] text-center rounded-sm"),l=D("password","Password","Password","p-2 bg-bg0 mt-2 text-center rounded-sm"),d=document.createElement("button");d.type="button",d.textContent="Afficher",d.className="ml-2 text-sm text-txt1 underline whitespace-nowrap w-[70px] overflow-hidden text-center -mr-10";const i=document.createElement("div");i.className="flex items-center mt-2",i.appendChild(l),i.appendChild(d),d.addEventListener("click",()=>{l.type=l.type==="password"?"text":"password",d.textContent=l.type==="password"?"Afficher":"Masquer"});const p=D("submit","","Valider","py-1 bg-txt1 text-bg0 text-xl mt-3 text-center rounded-sm");p.value="Se connecter",o.appendChild(c),o.appendChild(i),o.appendChild(p),n.appendChild(o),o.onsubmit=E=>{E.preventDefault();const g=c.value.trim(),x=l.value.trim();if(!g||!x){alert("Veuillez remplir tous les champs.");return}};const u=document.createElement("p");u.className="text-bg0 text-center mt-1 mb-1",u.textContent="or",n.appendChild(u);const f=document.createElement("a");f.className="text-bg1 bg-bg0 ml-[30%] py-1 px-5",f.textContent="GOOGLE",n.appendChild(f);const h=document.createElement("div");h.className="mt-20 -mb-20 text-bg0";const b=document.createElement("button");b.className="hover:cursor-pointer ml-60 -mr-70 underline text-sm",b.textContent="S'inscrire";const w=document.createElement("button");w.className="hover:cursor-pointer -ml-20 underline text-sm",w.textContent="Mot de passe oublié";const N=new P("/register"),v=new P("/forgot-password");return N.appendChild(b),h.appendChild(N.make()),v.appendChild(w),h.appendChild(v.make()),n.appendChild(h),e.appendChild(n),t.appendChild(e),t}),Q=new A(()=>{document.body.classList.remove("bg-bg2"),document.body.classList.add("bg-bg1");const t=document.createElement("div"),e=new P("/"),s=document.createElement("button");s.className="underline ml-[5%] text-bg0",s.textContent="retour",e.appendChild(s),t.appendChild(e.make());const r=document.createElement("button");r.textContent="Pause",r.className="absolute top-4 left-4 px-3 py-1 bg-gray-800 text-white rounded cursor-pointer z-10",t.appendChild(r);const n=document.createElement("div");n.className="flex justify-center";const a=document.createElement("div");a.className="absolute mt-10 left-1/2 transform -translate-x-1/2 text-bg0 text-4xl font-mono z-10 select-none";const o=document.createElement("canvas");o.className="block bg-bg2 border-4 border-bg0",n.appendChild(a),n.appendChild(o),t.appendChild(n);const c=o.getContext("2d"),l=window.innerWidth-30,d=window.innerHeight-40;function i(){const m=window.devicePixelRatio||1;o.width=l*m,o.height=d*m,c.setTransform(1,0,0,1,0,0),c.scale(m,m)}i(),window.addEventListener("resize",i);const p=10,u=100,f=6;let h=(d-u)/2,b=(d-u)/2,w=!1,N=!1,v=!1,E=!1;window.addEventListener("keydown",m=>{m.key==="ArrowUp"&&(w=!0),m.key==="ArrowDown"&&(N=!0),(m.key==="w"||m.key==="W")&&(v=!0),(m.key==="s"||m.key==="S")&&(E=!0)}),window.addEventListener("keyup",m=>{m.key==="ArrowUp"&&(w=!1),m.key==="ArrowDown"&&(N=!1),(m.key==="w"||m.key==="W")&&(v=!1),(m.key==="s"||m.key==="S")&&(E=!1)});const g=10;let x=l/2-g/2,C=d/2-g/2,L=5,T=3,y=0,k=0;function B(m){x=l/2-g/2,C=d/2-g/2,L=m?5:-5,T=Math.random()*4-2}function $(){a.textContent=`${y}  —  ${k}`}$();function H(){v&&(h-=f),E&&(h+=f),w&&(b-=f),N&&(b+=f),h=Math.max(0,Math.min(d-u,h)),b=Math.max(0,Math.min(d-u,b)),x+=L,C+=T,(C<=0||C+g>=d)&&(T*=-1);const m=x<=30+p&&C+g>=h&&C<=h+u,U=x+g>=l-30-p&&C+g>=b&&C<=b+u;(m||U)&&(L*=-1),x<0?(k++,$(),B(!0)):x>l&&(y++,$(),B(!1))}function q(){c.clearRect(0,0,l,d),c.strokeStyle="gray",c.setLineDash([5,5]),c.beginPath(),c.moveTo(l/2,0),c.lineTo(l/2,d),c.stroke(),c.setLineDash([]),c.fillStyle="white",c.fillRect(30,h,p,u),c.fillRect(l-30-p,b,p,u),c.fillRect(x,C,g,g)}let M=!1;r.onclick=()=>{M=!M,r.textContent=M?"Resume":"Pause"};function R(){M?(c.fillStyle="rgba(0,0,0,0.5)",c.fillRect(0,0,l,d),c.fillStyle="white",c.font="48px sans-serif",c.textAlign="center",c.fillText("Paused",l/2,d/2)):(H(),q()),requestAnimationFrame(R)}return R(),t}),Z=new A(()=>{document.body.classList.remove("bg-bg2"),document.body.classList.add("bg-bg1");const t=document.createElement("div"),e=new P("/"),s=document.createElement("button");return s.className="underline ml-[5%] text-bg0",s.textContent="retour",e.appendChild(s),t.appendChild(e.make()),t});function ee(t){const e=document.createElement("div");e.className="border-t border-bg0";const s=document.createElement("button");s.className="w-full text-left text-bg0 p-2 hover:bg-bg2 focus:outline-none flex justify-between items-center",s.textContent=`VS ${t.opponent} - ${t.score}`;const r=document.createElement("span");r.textContent="+",s.appendChild(r);const n=document.createElement("div");return n.className="text-bg0 pl-4 pr-2 py-2 hidden bg-bg2",n.innerHTML=`
		<p><strong>Date:</strong> ${t.date}</p>
		<p><strong>Touch_blue:</strong> ${t.touch_blue}</p>
		<p><strong>Touch_red:</strong> ${t.touch_red}</p>
		<p><strong>Score:</strong> ${t.score}</p>
	`,s.addEventListener("click",()=>{const a=!n.classList.contains("hidden");n.classList.toggle("hidden"),r.textContent=a?"+":"−"}),e.appendChild(s),e.appendChild(n),e}function F(t){const e=document.createElement("div");e.className="flex items-center justify-between bg-txt1 p-2 mx-2 my-1 rounded shadow";const s=document.createElement("p");s.className="text-bg0 font-bold",s.textContent=t,e.appendChild(s);const r=document.createElement("div");r.className="flex space-x-2";const n=document.createElement("button");n.className="bg-bg0 text-txt0 px-2 py-1 rounded hover:bg-bg2 transition",n.textContent="Profil",n.onclick=()=>{console.log(`Voir profil de ${t}`)};const a=document.createElement("button");a.className="bg-bg0 text-txt0 px-2 py-1 rounded hover:bg-bg2 transition",a.textContent="Match",a.onclick=()=>{console.log(`Envoyer une demande de match à ${t}`)};const o=document.createElement("button");return o.className="bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700 transition",o.textContent="Supprimer",o.onclick=()=>{console.log(`Supprimer ${t} de la liste`),e.remove()},r.appendChild(n),r.appendChild(a),r.appendChild(o),e.appendChild(r),e}const te=new A(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const t=document.createElement("div");t.className="font-CaveatBrush";const e=new P("/"),s=document.createElement("button");s.className="underline ml-[5%] text-bg0",s.textContent="retour",e.appendChild(s),t.appendChild(e.make());const r=document.createElement("h2");r.className="flex justify-center font-bitcount text-bg0 text-8xl bg-bg21 mx-[35%] mt-[1%]",r.textContent="PROFILE",t.appendChild(r);const n=document.createElement("div");n.className="w-32 h-32 rounded-full bg-bg0 overflow-hidden flex items-center justify-center relative text-center text-sm -mb-[1%] ml-[15%]";const a=document.createElement("img");a.className="w-full h-full object-cover absolute top-0 left-0 text-bg0",a.alt="Image de profile",a.src="./test.jpg";const o=document.createElement("span");o.textContent="Image de profile",n.appendChild(a),n.appendChild(o),t.appendChild(n);const c=document.createElement("div");c.className="grid grid-cols-3 gap-8 mt-[2%] mx-[1%]";const l=document.createElement("div");l.className="col-span-1 grid gap-4 bg-bg1 border-bg0 border-8 mr-[10%] pb-[50%]";const d=document.createElement("p");d.className="text-center text-bg0 mt-3 text-4xl",d.textContent="Profile";const i=j("Username :","username"),p=j("Password :","••••••"),u=document.createElement("p");u.className="text-bg0 ml-1",u.textContent="Winrate :";const f=document.createElement("p"),h=55;f.textContent=`${h}%`,f.className="ml-1 text-txt0 bg-bg0 mr-[50%] text-center -mt-2",l.appendChild(d),l.appendChild(i.element),l.appendChild(p.element),l.appendChild(u),l.appendChild(f);const b=document.createElement("div");b.className="col-span-1 grid bg-bg1 border-bg0 border-8 -mx-[9%]";const w=document.createElement("p");w.className="text-center text-4xl text-bg0 mt-3",w.textContent="Historique de partie";const N=[{opponent:"Player123",date:"2025-08-01",touch_blue:1,touch_red:10,score:"10 - 7"}];b.appendChild(w),N.forEach(y=>{const k=ee(y);b.appendChild(k)});const v=document.createElement("div");v.className="col-span-1 bg-bg1 border-bg0 border-8 ml-[10%]";const E=document.createElement("p");E.className="text-center text-4xl text-bg0 mt-3",E.textContent="Liste d'amis",v.appendChild(E);const g=document.createElement("div");g.className="flex items-center gap-2 px-2 mt-2";const x=document.createElement("input");x.type="text",x.placeholder="Nom de l'ami",x.className="flex-1 px-2 py-1 rounded border border-bg0";const C=document.createElement("button");C.textContent="Ajouter",C.className="bg-bg0 text-txt0 px-4 py-1 rounded hover:bg-bg2 transition";const L=document.createElement("div");return L.className="mt-4",C.onclick=()=>{const y=x.value.trim();if(y!==""){const k=F(y);L.appendChild(k),x.value=""}},g.appendChild(x),g.appendChild(C),v.appendChild(g),v.appendChild(L),["Alice","Bob","Charlie"].forEach(y=>{const k=F(y);L.appendChild(k)}),c.appendChild(l),c.appendChild(b),c.appendChild(v),t.appendChild(c),t}),ne=new A(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const t=document.createElement("div"),e=document.createElement("div");e.className="flex justify-center";const s=new P("/"),r=document.createElement("button");r.className="underline ml-[5%] text-bg0",r.textContent="retour",s.appendChild(r),t.appendChild(s.make());const n=document.createElement("div");n.className="bg-bg1 border-bg0 border-4 px-30 py-30 my-[10%] rounded-3xl";const a=document.createElement("p");a.className="text-bg0 font-bitcount hover:cursor-default text-5xl text-center -mt-[35%] -mx-7",a.textContent="INSCRIPTION",n.appendChild(a);const o=document.createElement("form");o.className="grid";const c=D("text","Username","Username","p-2 bg-bg0 mt-[26%] text-center"),l=D("password","New Password","New Password","p-2 bg-bg0 mt-2 text-center"),d=D("password","New Password","New New Password","p-2 bg-bg0 mt-2 text-center"),i=D("submit","","Valider","font-caveat py-1 bg-txt1 text-bg0 text-xl mt-3 text-center rounded-sm");i.value="S'inscrire",o.appendChild(c),o.appendChild(l),o.appendChild(d),o.appendChild(i),n.appendChild(o),o.onsubmit=f=>{f.preventDefault();const h=c.value.trim(),b=l.value.trim(),w=d.value.trim();if(!h||!b||!w){alert("Veuillez remplir tous les champs.");return}};const p=document.createElement("p");p.className="text-bg0 text-center mt-1 mb-1",p.textContent="or",n.appendChild(p);const u=document.createElement("a");return u.className="text-bg1 bg-bg0 ml-[31%] py-1 px-5",u.textContent="GOOGLE",n.appendChild(u),e.appendChild(n),t.appendChild(e),t}),oe=new A(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const t=document.createElement("div");t.className="flex justify-center ";const e=document.createElement("p");return e.className="text-8xl text-bg0 mt-[20%]",e.textContent="Work In Progress",t.appendChild(e),t}),S=O.getInstance();S.register("/",J);S.register("/login",K);S.register("/game",Q);S.register("/tournament",Z);S.register("/profile",te);S.register("/register",ne);S.register("/forgot-password",oe);S.launch();
