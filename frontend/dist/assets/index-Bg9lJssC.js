(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();class I{constructor(e,n){this.path=e,this.create=n}make(){return this.create()}getPath(){return this.path}}const p=class p{constructor(){this.appRoot=document.getElementById("app"),this.routes=[]}static getInstance(){return p.INSTANCE||(p.INSTANCE=new p),p.INSTANCE}register(e,n){this.routes.push(new I(e,n.getElemFactory()))}warp(e,n=!0){const r=this.routes.find(s=>s.getPath()===e);if(!r){console.warn(`unable to find path ${e} returning to home`),e!=="/"&&this.warp("/");return}n&&window.history.pushState(null,"",e);const o=r.make();this.appRoot.replaceChildren(o),this.listeners(o)}launch(){document.addEventListener("DOMContentLoaded",()=>this.launch_impl())}launch_impl(){window.addEventListener("popstate",()=>this.warp(window.location.pathname,!1)),this.warp(window.location.pathname)}listeners(e){e.querySelectorAll("a[data-route]").forEach(n=>{n.removeEventListener("click",E),n.addEventListener("click",E)})}};p.INSTANCE=null;let f=p;function E(t){const n=t.currentTarget.getAttribute("data-route");n&&(t.preventDefault(),f.getInstance().warp(n))}class N{constructor(e){this.factory=e}make(){return this.factory()}getElemFactory(){return this.factory}}class O extends N{constructor(){super(()=>{const e=document.createElement("div");return console.error("unable to use this component's factory"),e}),this.className="",this.textContent="",this.childs=[]}appendChild(e){this.childs.push(e)}appendChilds(e){this.childs.forEach(n=>e.appendChild(n))}setTextContent(e){e.textContent=this.textContent}setClassName(e){e.className=this.className}}class g extends N{constructor(e){super(e)}}class C extends O{constructor(e){super(),this.link=e}make(){const e=document.createElement("a");return e.href="#",e.setAttribute("data-route",this.link),this.setTextContent(e),this.setClassName(e),this.appendChilds(e),e}}let w;const S=()=>{const t=document.createElement("div");t.className="flex text-bg0 justify-end mr-10 mt-4";{const e=document.createElement("button");e.className="px-15 py-5 bg-bg2 rounded-2xl grayscale-50 underline hover:cursor-pointer",e.textContent="Se connecter";const n=new C("/login");n.appendChild(e),t.appendChild(n.make()),w=0}return t},D=()=>{const t=document.createElement("div");t.className="flex flex-col items-center text-2xl text-bg0";const e=document.createElement("button");e.className="hover:cursor-pointer mt-70 px-15 py-5 bg-bg2 rounded-2xl",e.textContent="Classique";const n=document.createElement("button");n.className="hover:cursor-pointer mt-10 px-17 py-5 bg-bg2 rounded-2xl",n.textContent="Tournoi";const r=new C("/tournament");r.appendChild(n);const o=r.make();return e.addEventListener("click",()=>{if(w==1)window.location.href="/game";else{const s=document.createElement("input");s.type="text",s.placeholder="Entrez votre pseudo",s.className="hover:cursor-pointer text-center mx-auto mt-70 px-15 py-5 bg-bg2 rounded-2xl",t.replaceChild(s,e);const a=document.createElement("button");a.textContent="Jouer",a.className="hover:cursor-pointer mx-auto mt-10 px-17 py-5 bg-bg2 rounded-2xl",a.addEventListener("click",()=>{const c=s.value.trim();if(c.length===0){alert("Veuillez entrer un pseudo.");return}localStorage.setItem("guestName",c),window.location.href="/game"}),t.replaceChild(a,o)}}),t.appendChild(e),t.appendChild(o),t},T=new g(()=>{document.body.classList.remove("bg-bg2"),document.body.classList.add("bg-bg1");const t=document.createElement("div");t.appendChild(S());const e=document.createElement("div");e.className="flex flex-col items-center mx-[25%] bg-bg11 -mt-10 p-7 rounded-3xl";const n=document.createElement("p");return n.className="text-8xl hover:cursor-default font-bitcount text-bg0",n.textContent="TRANSCENDENCE",e.appendChild(n),t.appendChild(e),t.appendChild(D()),t});function v(t,e,n,r){const o=document.createElement("input");return o.type=t,e&&(o.placeholder=e),o.id=n,o.className=r,o}const k=new g(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const t=document.createElement("div");t.className="flex justify-center";const e=document.createElement("div");e.className="bg-bg1 border-bg0 border-4 px-30 py-30 my-[12%] rounded-3xl";const n=document.createElement("p");n.className="text-bg0 font-bitcount hover:cursor-default text-5xl text-center -mt-[35%]",n.textContent="CONNEXION",e.appendChild(n);const r=document.createElement("form");r.className="grid";const o=v("text","Username","Username","p-2 bg-bg0 mt-[28%] text-center"),s=v("password","Password","Password","p-2 bg-bg0 mt-2 text-center"),a=v("submit","","Valider","py-1 bg-txt1 text-bg0 text-xl mt-3 text-center rounded-sm");a.value="Se connecter",r.appendChild(o),r.appendChild(s),r.appendChild(a),e.appendChild(r),r.onsubmit=y=>{y.preventDefault();const L=o.value.trim(),P=s.value.trim();if(!L||!P){alert("Veuillez remplir tous les champs.");return}};const c=document.createElement("p");c.className="text-bg0 text-center mt-1 mb-1",c.textContent="or",e.appendChild(c);const d=document.createElement("a");d.className="text-bg1 bg-bg0 ml-[30%] py-1 px-5",d.textContent="GOOGLE",e.appendChild(d);const l=document.createElement("div");l.className="mt-20 -mb-20 text-bg0";const i=document.createElement("button");i.className="hover:cursor-pointer ml-60 -mr-70 underline text-sm",i.textContent="S'inscrire";const m=document.createElement("button");m.className="hover:cursor-pointer -ml-20 underline text-sm",m.textContent="Mot de passe oubliÃ©";const b=new C("/register"),h=new C("/forgot-password");return b.appendChild(i),l.appendChild(b.make()),h.appendChild(m),l.appendChild(h.make()),e.appendChild(l),t.appendChild(e),t}),j=new g(()=>document.createElement("div")),A=new g(()=>document.createElement("div")),F=new g(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const t=document.createElement("div");t.className="font-CaveatBrush";const e=document.createElement("h2");e.className="flex justify-center font-bitcount text-bg0 text-8xl bg-bg21 mx-[35%] mt-[2%]",e.textContent="PROFIL",t.appendChild(e);const n=document.createElement("div");n.className="w-32 h-32 rounded-full bg-bg0 overflow-hidden flex items-center justify-center relative text-center text-sm -mb-[1%] ml-[15%]";const r=document.createElement("img");r.className="w-full h-full object-cover absolute top-0 left-0 text-bg0",r.alt="Image de profile",r.src="./test.jpg";const o=document.createElement("span");o.textContent="Image de profile",n.appendChild(r),n.appendChild(o),t.appendChild(n);const s=document.createElement("div"),a=document.createElement("div");a.className="flex bg-bg1 border-bg0 border-8 mt-[2%] pb-[30%] ml-[2%] mr-[75%]";const c=document.createElement("p");c.className="mx-[30%] text-bg0 mt-2 text-4xl",c.textContent="Profile",a.appendChild(c);const d=document.createElement("div");d.className="flex justify-end bg-bg1 border-bg0 border-8 ml-[80%] -mt-[33.3%] mr-[2%] pb-[30%]";const l=document.createElement("p");l.className="mx-[30%] text-xl text-bg0 mt-2",l.textContent="Liste d'amie",d.appendChild(l);const i=document.createElement("div");i.className="flex justify-center bg-bg1 border-bg0 border-8 ml-[30%] mr-[25%] -mt-[32.7%] pb-[30%]";const m=document.createElement("p");return m.className="mx-[30%] text-4xl text-bg0 mt-2",m.textContent="Historique de partie",i.appendChild(m),s.appendChild(a),s.appendChild(d),s.appendChild(i),t.appendChild(s),t});function x(t,e,n,r){const o=document.createElement("input");return o.type=t,e&&(o.placeholder=e),o.id=n,o.className=r,o}const G=new g(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const t=document.createElement("div");t.className="flex justify-center";const e=document.createElement("div");e.className="bg-bg1 border-bg0 border-4 px-30 py-30 my-[12%] rounded-3xl";const n=document.createElement("p");n.className="text-bg0 font-bitcount hover:cursor-default text-5xl text-center -mt-[35%] -mx-7",n.textContent="INSCRIPTION",e.appendChild(n);const r=document.createElement("form");r.className="grid";const o=x("text","Username","Username","p-2 bg-bg0 mt-[26%] text-center"),s=x("password","New Password","New Password","p-2 bg-bg0 mt-2 text-center"),a=x("password","New Password","New New Password","p-2 bg-bg0 mt-2 text-center"),c=x("submit","","Valider","font-caveat py-1 bg-txt1 text-bg0 text-xl mt-3 text-center rounded-sm");c.value="S'inscrire",r.appendChild(o),r.appendChild(s),r.appendChild(a),r.appendChild(c),e.appendChild(r),r.onsubmit=i=>{i.preventDefault();const m=o.value.trim(),b=s.value.trim(),h=a.value.trim();if(!m||!b||!h){alert("Veuillez remplir tous les champs.");return}};const d=document.createElement("p");d.className="text-bg0 text-center mt-1 mb-1",d.textContent="or",e.appendChild(d);const l=document.createElement("a");return l.className="text-bg1 bg-bg0 ml-[31%] py-1 px-5",l.textContent="GOOGLE",e.appendChild(l),t.appendChild(e),t}),V=new g(()=>document.createElement("div")),u=f.getInstance();u.register("/",T);u.register("/login",k);u.register("/game",j);u.register("/tournament",A);u.register("/profile",F);u.register("/register",G);u.register("/forgot-password",V);u.launch();
