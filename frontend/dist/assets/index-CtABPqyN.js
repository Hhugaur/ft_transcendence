(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();class ge{constructor(t,n){this.path=t,this.create=n}make(){return this.create()}getPath(){return this.path}}const M=class M{constructor(){this.appRoot=document.getElementById("app"),this.routes=[]}static getInstance(){return M.INSTANCE||(M.INSTANCE=new M),M.INSTANCE}register(t,n){this.routes.push(new ge(t,n.getElemFactory()))}warp(t,n=!0){const s=this.routes.find(a=>a.getPath()===t);if(!s){console.warn(`unable to find path ${t} returning to home`),t!=="/"&&this.warp("/");return}n&&window.history.pushState(null,"",t);const o=s.make();this.appRoot.replaceChildren(o),this.listeners(o)}launch(){document.addEventListener("DOMContentLoaded",()=>this.launch_impl())}launch_impl(){window.addEventListener("popstate",()=>this.warp(window.location.pathname,!1)),this.warp(window.location.pathname)}listeners(t){t.querySelectorAll("a[data-route]").forEach(n=>{n.removeEventListener("click",ae),n.addEventListener("click",ae)})}};M.INSTANCE=null;let j=M;function ae(e){const n=e.currentTarget.getAttribute("data-route");n&&(e.preventDefault(),j.getInstance().warp(n))}class ie{constructor(t){this.factory=t}make(){return this.factory()}getElemFactory(){return this.factory}}class be extends ie{constructor(){super(()=>{const t=document.createElement("div");return console.error("unable to use this component's factory"),t}),this.className="",this.textContent="",this.childs=[]}appendChild(t){this.childs.push(t)}appendChilds(t){this.childs.forEach(n=>t.appendChild(n))}setTextContent(t){t.textContent=this.textContent}setClassName(t){t.className=this.className}}class A extends ie{constructor(t){super(t)}}class X extends be{constructor(t){super(),this.link=t}make(){const t=document.createElement("a");return t.href="#",t.setAttribute("data-route",this.link),this.setTextContent(t),this.setClassName(t),this.appendChilds(t),t}}const I=e=>{document.body.classList.remove("fade-in"),document.body.classList.add("fade-out"),setTimeout(()=>{history.pushState(null,"",e),window.dispatchEvent(new PopStateEvent("popstate"))},500)},he={iTitle:"TRANSCENDENCE",iButton1:"Log In",iButton2:"Classic",iButton3:"Tournament",iInput:"Enter your username",iButton4:"Play",disc:"disc",iImagetxt:"Profile picture",iLanguage:"Language",lTitle:"LOGIN",lInput1:"Username",lInput2:"Password",lSubmit:"Log In",lButton1:"Show",lButton2:"Hide",lText:"or",lOther1:"Forgot password",rTitle:"SIGN UP",rInput1:"Username",rInput2:"New password",rSubmit:"Sign Up",rText:"or",pTitle1:"PROFILE",pImage:"Profile picture",pTitle2:"Profile",pTitle3:"Match History",pTitle4:"Friends List",pLabel1:"Username",pLabel2:"Password",pLabel3:"Win Rate",pInput:"Friend's name",pText1:"Date",pText2:"",pText3:"",pText4:"Score",pButton1:"Add",pButton2:"Profile",pButton3:"Match",pButton4:"Delete",back:"back",button:"button"},fe={iTitle:"TRANSCENDENCE",iButton1:"Se connecter",iButton2:"Classique",iButton3:"Tournoi",iInput:"Entrez votre pseudo",iButton4:"Jouer",iImagetxt:"Image de profile",iLanguage:"langage",lTitle:"CONNEXION",lInput1:"Nom d'utilisateur",lInput2:"Mot de passe",lSubmit:"Se connecter",lButton1:"Afficher",lButton2:"Masquer",lText:"oû",lOther1:"Mot de passe oublié",rTitle:"INSCRIPTION",rInput1:"Nom d'utilisateur",rInput2:"Nouveau mot de passe",rSubmit:"S'inscrire",pTitle1:"PROFILE",pImage:"Image de profile",pTitle2:"Profile",pTitle3:"Historique de partie",pTitle4:"Liste d'amis",pLabel1:"Nom d'utilisateur",pLabel2:"Mot de passe",pLabel3:"Taux de victoire",pInput:"Nom de l'ami",pText1:"Date",pText2:"",pText3:"",pText4:"Score",pButton1:"Ajouter",pButton2:"Profile",pButton3:"Match",pButton4:"Supprimer",back:"retour",disc:"se deconnecter"},xe={iTitle:"TRASCENDENCIA",iButton1:"Iniciar sesión",iButton2:"Clásico",iButton3:"Torneo",iInput:"Ingresa tu nombre de usuario",iButton4:"Jugar",disc:"disc",iImagetxt:"Imagen de perfil",iLanguage:"Idioma",lTitle:"Inicia sesión",lInput1:"Nombre de usuario",lInput2:"Contraseña",lSubmit:"Inicia sesión",lButton1:"Mostrar",lButton2:"Ocultar",lText:"o",lOther1:"Olvide contraseña",rTitle:"REGISTRO",rInput1:"Nombre de usuario",rInput2:"Nueva contraseña",rSubmit:"Registrarse",rText:"o",pTitle1:"PERFIL",pImage:"Imagen de perfil",pTitle2:"Perfil",pTitle3:"Historial de partidas",pTitle4:"Lista de amigos",pLabel1:"Nombre de usuario",pLabel2:"Contraseña",pLabel3:"Tasa de victorias",pInput:"Nombre del amigo",pText1:"Fecha",pText2:"",pText3:"",pText4:"Puntuación",pButton1:"Agregar",pButton2:"Perfil",pButton3:"Partida",pButton4:"Eliminar",back:"back"},Ce=[{code:"en",label:"English"},{code:"es",label:"Español"},{code:"fr",label:"Français"}],V={en:he,fr:fe,es:xe};let de=Ee(),p={...V[de]};function ve(e){V[e]?(de=e,localStorage.setItem("lang",e),Object.assign(e,V[e]),console.log(`Language set to: ${e}`),Ne()):console.warn(`Language '${e}' not supported.`)}function Ee(){const e=localStorage.getItem("lang");return e&&e in V?e:we()}function we(){const e=navigator.language.substring(0,2);return e in V?e:"en"}function ye(){const e=document.createElement("div");e.className="relative inline-block text-left";const t=document.createElement("button");t.id="dropdownButton",t.className="text-bg0 ml-30 inline-flex justify-center rounded-md shadow-sm px-4 py-2 bg-bg2 text-sm font-medium hover:bg-txt1 hover",t.innerHTML=`
    ${p.language||"Language"}
    <svg class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
    </svg>
  `;const n=document.createElement("div");n.className="hidden text-bg0 origin-top-right absolute right-0 mt-2 w-[50%] rounded-md bg-bg0 ring-1 ring-black ring-opacity-5 z-10";const s=document.createElement("div");return s.className="py-1",Ce.forEach(({code:o,label:a})=>{const r=document.createElement("a");r.href="#",r.textContent=a,r.className="block text-center py-2 text-sm bg-txt0 text-bg0 hover:bg-txt1",r.addEventListener("click",c=>{c.preventDefault(),ve(o),t.innerHTML=`
        ${p.language||"Language"}
        <svg class="h-5 w-5 ml-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
        </svg>
      `,n.classList.add("hidden")}),s.appendChild(r)}),n.appendChild(s),e.appendChild(t),e.appendChild(n),t.addEventListener("click",o=>{o.stopPropagation(),n.classList.toggle("hidden")}),window.addEventListener("click",o=>{e.contains(o.target)||n.classList.add("hidden")}),e}function Ne(){document.querySelectorAll("[data-i18n]").forEach(e=>{const t=e.dataset.i18n;p[t]&&(e.textContent=p[t])})}async function K(e,t,n,s,o){try{if(n!==null){const a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[t]:s,[n]:o})});await oe(a,e)}else{const a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({[t]:s})});await oe(a,e)}}catch(a){throw console.error(J(e,!1,a)),alert(J(e,!1,a.message)),a}}async function oe(e,t){const n=await e.json().catch(()=>null);if(!e.ok){const s=n?.error||`Erreur HTTP : ${e.status}`;throw new Error(s)}return console.log(J(t,!0,null),n),alert(J(t,!0,null)),n}function J(e,t,n){if(e==="https://transcendence.42.fr:42069/api/friends/add"&&t===!0)return"Ajout d'ami réussie!";if(e==="https://transcendence.42.fr:42069/api/friends/add"&&t===!1)return"Erreur lors de l’ajout d'ami :"+n;if(e==="https://transcendence.42.fr:42069/api/auth/login"&&t===!0)return se(),I("/index"),"Connnexion réussie!";if(e==="https://transcendence.42.fr:42069/api/auth/login"&&t===!1)return"Erreur lors de la connexion :"+n;if(e==="https://transcendence.42.fr:42069/api/auth/register"&&t===!0)return se(),I("/profile"),"Inscription réussie!";if(e==="https://transcendence.42.fr:42069/api/auth/register"&&t===!1)return"Erreur lors de l’inscription :"+n;if(e==="https://transcendence.42.fr:42069/api/auth/disconnect"&&t===!0)return Le(),I("/index"),"Déconnexion réussie!";if(e==="https://transcendence.42.fr:42069/api/auth/disconnect"&&t===!1)return"Erreur lors de la déconnexion :"+n}let F;function se(){F=1}function Le(){F=0}const re=j.getInstance(),Ie=()=>{if(F==1){const e=document.createElement("div");e.className="grid text-bg0 justify-end mr-10 mt-4";const t=document.createElement("div");t.className="w-32 h-32 rounded-full bg-bg0 relative overflow-hidden text-sm -mb-[50%] ml-[15%]";const n=new X("/profile"),s=document.createElement("img");s.className="w-full h-full object-cover absolute top-0 left-0 text-bg0",s.alt="Image de profile",s.src="./test.jpg";const o=document.createElement("span");o.className="w-full h-full flex items-center justify-center absolute top-0 left-0 text-center text-black",o.textContent=p.iImagetxt,t.appendChild(s),t.appendChild(o),n.appendChild(t),e.appendChild(n.make());const a=document.createElement("button");return a.className="-mb-[100%] mt-10 ml-5 text-sm",a.textContent=p.disc,a.onclick=()=>{K("https://transcendence.42.fr:42069/api/auth/disconnect","username",null,"test1234",null),localStorage.removeItem("username")},e.appendChild(a),e}else{const e=document.createElement("div");e.className="flex text-bg0 justify-end mr-10 mt-4";const t=document.createElement("button");return t.className="px-15 py-5 bg-bg2 rounded-2xl grayscale-50 underline hover:cursor-pointer transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-md",t.textContent=p.iButton1,t.addEventListener("click",n=>{n.preventDefault(),I("/login")}),e.appendChild(t),F=0,e}},ke=()=>{const e=document.createElement("div");e.className="flex flex-col items-center text-2xl text-bg0";const t=document.createElement("button");t.className="hover:cursor-pointer mt-70 px-20 py-5 bg-bg2 rounded-2xl transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-md",t.textContent=p.iButton2;const n=document.createElement("button");n.className="hover:cursor-pointer mt-10 px-20 py-5 bg-bg2 rounded-2xl transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-md",n.textContent=p.iButton3;let s="classic";const o=()=>{const r=document.createElement("input");r.type="text",r.placeholder=p.iInput,r.className=`hover:cursor-pointer text-center mx-auto mt-70 px-15 py-5 bg-bg2 rounded-2xl
		transition-all duration-300 ease-in-out focus:scale-105 focus:shadow-md focus:outline-none`,e.replaceChild(r,t);const c=document.createElement("button");c.textContent=p.iButton4,c.className=`hover:cursor-pointer mx-auto mt-10 px-17 py-5 bg-bg2 rounded-2xl
    	transition-all duration-300 ease-in-out hover:scale-105 hover:shadow-md hover:bg-bg3`,c.addEventListener("click",()=>{const i=r.value.trim();if(i.length===0){alert("Veuillez entrer un pseudo.");return}localStorage.setItem("guestName",i),s==="classic"?re.warp("/game",!1):re.warp("/tournament",!1)}),e.replaceChild(c,n)},a=r=>{s=r,F===1?window.location.href=r==="classic"?"/game":"/tournament":o()};return t.addEventListener("click",()=>a("classic")),n.addEventListener("click",()=>a("tournament")),e.appendChild(t),e.appendChild(n),e},Te=new A(()=>{document.body.classList.remove("fade-out"),document.body.classList.add("fade-in"),document.body.classList.remove("bg-bg2"),document.body.classList.add("bg-bg1");const e=document.createElement("div");e.appendChild(Ie());const t=document.createElement("div");t.className="flex flex-col items-center mx-[25%] bg-bg11 -mt-10 p-7 rounded-3xl";const n=document.createElement("p");return n.className="text-8xl hover:cursor-default font-bitcount text-bg0",n.textContent=p.iTitle,t.appendChild(n),e.appendChild(t),e.appendChild(ke()),e.appendChild(ye()),e});function B(e,t,n,s){const o=document.createElement("input");return o.type=e,t&&(o.placeholder=t),o.id=n,o.className=s,o}function ce(e,t,n){const s=document.createElement("div"),o=document.createElement("label");o.className="text-bg0 ml-1",o.textContent=e;const a=document.createElement("p");a.className="text-center p-2 bg-txt0 text-bg0 text-xl rounded-sm cursor-pointer ml-1 mr-[40%]",a.textContent=t;const r=document.createElement("input");e=="Password :"?(r.className="hidden p-2 bg-bg0 text-center rounded-sm flex",r.type="password"):(r.className="hidden p-2 bg-bg0 text-center rounded-sm ml-2 mt-1 flex",r.type="text"),r.value=t;let c=t,i=!1;a.addEventListener("click",()=>{a.classList.add("hidden"),r.classList.remove("hidden"),l&&l.classList.remove("hidden"),r.value=c,r.focus(),r.select()}),r.addEventListener("keydown",u=>{if(u.key==="Enter"){const b=r.value.trim();b!==c&&(c=b,e==="Password :"?a.textContent="••••••":a.textContent=b),i=!0,r.classList.add("hidden"),a.classList.remove("hidden"),l&&l.classList.add("hidden")}u.key==="Escape"&&(r.value=c,i=!1,r.classList.add("hidden"),a.classList.remove("hidden"),l&&l.classList.add("hidden"))}),r.addEventListener("blur",()=>{i||(r.value=c,r.classList.add("hidden"),a.classList.remove("hidden"),l&&l.classList.add("hidden")),i=!1}),s.appendChild(o),s.appendChild(a);let l=null;if(e==="Password :"){const u=document.createElement("button");u.type="button",u.textContent="Afficher",u.className="text-sm text-txt1 underline whitespace-nowrap",u.addEventListener("mousedown",b=>{b.preventDefault()}),u.addEventListener("click",()=>{r.type=r.type==="password"?"text":"password",u.textContent=r.type==="password"?"Afficher":"Masquer"}),l=document.createElement("div"),l.className="hidden flex items-center gap-2 mt-1 ml-2",l.appendChild(r),l.appendChild(u),s.appendChild(l)}else s.appendChild(r);return{element:s,getValue:()=>r.value,setValue:u=>{c=u,r.value=u,e==="Password :"?a.textContent="••••••":a.textContent=u}}}j.getInstance();const Pe=new A(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2"),document.body.classList.remove("fade-out"),document.body.classList.add("fade-in");const e=document.createElement("div"),t=document.createElement("div");t.className="flex justify-center";const n=document.createElement("button");n.className="underline ml-[5%] text-bg0",n.textContent=p.back,n.addEventListener("click",f=>{f.preventDefault(),I("/")}),e.appendChild(n);const s=document.createElement("div");s.className="bg-bg1 border-bg0 border-4 px-30 py-30 my-[10%] rounded-3xl";const o=document.createElement("p");o.className="text-bg0 font-bitcount hover:cursor-default text-4xl text-center -mt-[35%]",o.textContent=p.lTitle,s.appendChild(o);const a=document.createElement("form");a.className="grid";const r=B("text","Username","Username","p-2 bg-bg0 mt-[28%] text-center rounded-sm"),c=B("password","Password","Password","p-2 bg-bg0 mt-2 text-center rounded-sm"),i=document.createElement("button");i.type="button",i.textContent=p.lButton1,i.className="ml-2 text-sm text-txt1 underline whitespace-nowrap w-[70px] overflow-hidden text-center -mr-10";const l=document.createElement("div");l.className="flex items-center mt-2",l.appendChild(c),l.appendChild(i),i.addEventListener("click",()=>{c.type=c.type==="password"?"text":"password",i.textContent=c.type==="password"?p.iButton1:p.iButton2});const u=B("submit","","Valider","py-1 bg-txt1 text-bg0 text-xl mt-3 text-center rounded-sm");u.value="Se connecter",a.appendChild(r),a.appendChild(l),a.appendChild(u),s.appendChild(a),a.onsubmit=f=>{f.preventDefault();const y=r.value.trim(),L=c.value.trim();if(!y||!L){alert("Veuillez remplir tous les champs.");return}K("https://transcendence.42.fr:42069/api/auth/login","username","password",y,L),localStorage.setItem("username",y)};const b=document.createElement("p");b.className="text-bg0 text-center mt-1 mb-1",b.textContent="or",s.appendChild(b);const g=document.createElement("a");g.className="text-bg1 bg-bg0 ml-[30%] py-1 px-5",g.textContent="GOOGLE",s.appendChild(g);const h=document.createElement("div");h.className="mt-20 -mb-20 text-bg0";const m=document.createElement("button");m.className="hover:cursor-pointer ml-60 -mr-70 underline text-sm",m.textContent=p.rSubmit;const x=document.createElement("button");return x.className="hover:cursor-pointer -ml-20 underline text-sm",x.textContent=p.lOther1,m.addEventListener("click",f=>{f.preventDefault(),I("/register")}),x.addEventListener("click",f=>{f.preventDefault(),I("/forgot-password")}),h.appendChild(m),h.appendChild(x),s.appendChild(h),t.appendChild(s),e.appendChild(t),e}),Se=new A(()=>{document.body.classList.remove("fade-out"),document.body.classList.add("fade-in"),document.body.classList.remove("bg-bg2"),document.body.classList.add("bg-bg1");const e=document.createElement("div"),t=new X("/"),n=document.createElement("button");n.className="underline ml-[5%] text-bg0",n.textContent=p.back,t.appendChild(n),e.appendChild(t.make());const s=document.createElement("button");s.textContent="Pause",s.className="absolute top-4 left-4 px-3 py-1 bg-gray-800 text-white rounded cursor-pointer z-10",e.appendChild(s);const o=document.createElement("div");o.className="flex justify-center";const a=document.createElement("div");a.className="absolute mt-10 left-1/2 transform -translate-x-1/2 text-bg0 text-4xl font-mono z-10 select-none";const r=document.createElement("canvas");r.className="block bg-bg2 border-4 border-bg0",o.appendChild(a),o.appendChild(r),e.appendChild(o);const c=r.getContext("2d"),i=window.innerWidth-30,l=window.innerHeight-40;function u(){const d=window.devicePixelRatio||1;r.width=i*d,r.height=l*d,c.setTransform(1,0,0,1,0,0),c.scale(d,d)}u(),window.addEventListener("resize",u);let b;(d=>{d[d.READY=0]="READY",d[d.PLAYING=1]="PLAYING",d[d.PAUSED=2]="PAUSED",d[d.WIN=3]="WIN",d[d.LOSE=4]="LOSE"})(b||(b={}));let g=0;const h=10,m=100,x=6;let f=(l-m)/2,y=(l-m)/2,L=!1,D=!1,_=!1,T=!1;window.addEventListener("keydown",d=>{d.key==="ArrowUp"&&(L=!0),d.key==="ArrowDown"&&(D=!0),(d.key==="w"||d.key==="W")&&(_=!0),(d.key==="s"||d.key==="S")&&(T=!0)}),window.addEventListener("keyup",d=>{d.key==="ArrowUp"&&(L=!1),d.key==="ArrowDown"&&(D=!1),(d.key==="w"||d.key==="W")&&(_=!1),(d.key==="s"||d.key==="S")&&(T=!1)});const w=10;let P=i/2-w/2,E=l/2-w/2,O=5,S=3,N=1;const R=.1,$=2.5;let U=0,C=0;const v=5;function H(d){P=i/2-w/2,E=l/2-w/2,O=d?5:-5,S=Math.random()*4-2,N=1}function q(){a.textContent=`${U}  —  ${C}`}function Q(d,Z,G){const z=document.createElement("div");z.className="absolute inset-0 flex flex-col items-center justify-center bg-black bg-opacity-70 text-white z-20";const ee=document.createElement("div");ee.textContent=d,ee.className="text-5xl mb-6";const Y=document.createElement("button");return Y.textContent=Z,Y.className="px-4 py-2 bg-white text-black rounded text-xl",Y.onclick=()=>{z.remove(),G()},z.appendChild(ee),z.appendChild(Y),z}function te(){U=0,C=0,q(),H(!1),g=1}const ue=Q("Ready?","Start Game",()=>{g=1});e.appendChild(ue);function pe(){_&&(f-=x),T&&(f+=x),L&&(y-=x),D&&(y+=x),f=Math.max(0,Math.min(l-m,f)),y=Math.max(0,Math.min(l-m,y)),P+=O*N,E+=S*N,(E<=0||E+w>=l)&&(S*=-1);const d=P<=30+h&&E+w>=f&&E<=f+m,Z=P+w>=i-30-h&&E+w>=y&&E<=y+m;if((d||Z)&&(O*=-1,N=Math.min(N+R,$)),P<0)if(C++,q(),C>=v){g=4;const G=Q("You Lose 😢","Play Again",te);e.appendChild(G)}else H(!0);else if(P>i)if(U++,q(),U>=v){g=3;const G=Q("You Win 🎉","Play Again",te);e.appendChild(G)}else H(!1)}function me(){c.clearRect(0,0,i,l),c.strokeStyle="gray",c.setLineDash([5,5]),c.beginPath(),c.moveTo(i/2,0),c.lineTo(i/2,l),c.stroke(),c.setLineDash([]),c.fillStyle="white",c.fillRect(30,f,h,m),c.fillRect(i-30-h,y,h,m),c.fillRect(P,E,w,w)}let W=!1;s.onclick=()=>{(g===1||g===2)&&(W=!W,g=W?2:1,s.textContent=W?"Resume":"Pause")};function ne(){g===1&&!W?(pe(),me()):g===2&&(c.fillStyle="rgba(0,0,0,0.5)",c.fillRect(0,0,i,l),c.fillStyle="white",c.font="48px sans-serif",c.textAlign="center",c.fillText("Paused",i/2,l/2)),requestAnimationFrame(ne)}return q(),ne(),e}),Be=new A(()=>{document.body.classList.remove("fade-out"),document.body.classList.add("fade-in"),document.body.classList.remove("bg-bg2"),document.body.classList.add("bg-bg1");const e=document.createElement("div"),t=new X("/"),n=document.createElement("button");return n.className="underline ml-[5%] text-bg0",n.textContent=p.back,t.appendChild(n),e.appendChild(t.make()),e});function Ae(e){const t=document.createElement("div");t.className="border-t border-bg0";const n=document.createElement("button");n.className="w-full text-left text-bg0 p-2 hover:bg-bg2 focus:outline-none flex justify-between items-center",n.textContent=`VS ${e.opponent} - ${e.score}`;const s=document.createElement("span");s.textContent="+",n.appendChild(s);const o=document.createElement("div");return o.className="text-bg0 pl-4 pr-2 py-2 hidden bg-bg2",o.innerHTML=`
		<p><strong>Date:</strong> ${e.date}</p>
		<p><strong>Touch_blue:</strong> ${e.touch_blue}</p>
		<p><strong>Touch_red:</strong> ${e.touch_red}</p>
		<p><strong>Score:</strong> ${e.score}</p>
	`,n.addEventListener("click",()=>{const a=!o.classList.contains("hidden");o.classList.toggle("hidden"),s.textContent=a?"+":"−"}),t.appendChild(n),t.appendChild(o),t}function le(e,t,n){const s=document.createElement("div");s.className="flex items-center justify-between bg-txt1 p-2 mx-2 my-1 rounded shadow";const o=document.createElement("div");o.className="flex items-center space-x-3";const a=document.createElement("img");a.src="test.jpeg",a.alt=`${e} avatar`,a.className="w-10 h-10 rounded-full object-cover border border-bg0";const r=document.createElement("div");r.className="flex flex-col";const c=document.createElement("p");c.className="text-bg0 font-bold",c.textContent=e;const i=document.createElement("div");i.className="flex items-center space-x-1";const l=document.createElement("span");l.className="w-3 h-3 rounded-full";const u=document.createElement("span");u.className="text-xs text-bg0",i.appendChild(l),i.appendChild(u),r.appendChild(c),r.appendChild(i),o.appendChild(a),o.appendChild(r);const b=document.createElement("div");b.className="flex space-x-2";const g=document.createElement("button");g.className="bg-bg0 text-txt0 px-2 py-1 rounded hover:bg-bg2 transition",g.textContent=p.pButton2,g.onclick=()=>{console.log(`Voir profil de ${e}`)};const h=document.createElement("button");h.className="bg-bg0 text-txt0 px-2 py-1 rounded hover:bg-bg2 transition",h.textContent=p.pButton3,h.onclick=()=>{console.log(`Envoyer une demande de match à ${e}`)};const m=document.createElement("button");m.className="bg-red-600 text-white px-2 py-1 rounded hover:bg-red-700 transition",m.textContent=p.pButton4,m.onclick=()=>{confirm(`Supprimer ${e} ?`)&&(console.log(`Supprimé ${e}`),s.remove())},b.appendChild(g),b.appendChild(h),b.appendChild(m),s.appendChild(o),s.appendChild(b);function x(f){switch(l.className="w-3 h-3 rounded-full",u.textContent=f==="in-game"?"En jeu":f==="online"?"En ligne":"Hors ligne",f){case"online":l.classList.add("bg-green-500");break;case"in-game":l.classList.add("bg-yellow-500");break;default:l.classList.add("bg-gray-400");break}}return x(t),s.setStatus=x,Object.assign(s,{setStatus:x})}const De=new A(()=>{document.body.classList.remove("fade-out"),document.body.classList.add("fade-in"),document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const e=document.createElement("div");if(F===0)return I("/index"),e;e.className="font-CaveatBrush";const t=new X("/"),n=document.createElement("button");n.className="underline ml-[5%] text-bg0",n.textContent=p.back,t.appendChild(n),e.appendChild(t.make());const s=document.createElement("button");s.className="ml-[80%] text-bg0 underline",s.textContent=p.disc,e.appendChild(s),s.onclick=()=>{K("https://transcendence.42.fr:42069/api/auth/disconnect","username",null,"test1234",null),localStorage.removeItem("username")};const o=document.createElement("h2");o.className="flex justify-center font-bitcount text-bg0 text-8xl bg-bg21 mx-[35%] mt-[1%]",o.textContent=p.pTitle1,e.appendChild(o);const a=document.createElement("div");a.className="w-32 h-32 rounded-full bg-bg0 overflow-hidden flex items-center justify-center relative text-center text-sm -mb-[1%] ml-[15%]";const r=document.createElement("img");r.className="w-full h-full object-cover absolute top-0 left-0 text-bg0",r.alt="Image de profile";async function c(C){const v=await fetch(`https://transcendence.42.fr:42069/api/auth/avatar/${C}`);if(!v.ok){console.error("Impossible de charger l'avatar");return}const H=await v.json();r.src=H.avatar}c("test1234");const i=document.createElement("span");i.textContent=p.pImage,a.appendChild(r),a.appendChild(i),e.appendChild(a);const l=document.createElement("div");l.className="flex items-center gap-2 px-2 mt-2";const u=document.createElement("button");u.textContent="Upload avatar",u.className="bg-bg0 text-txt0 px-4 py-1 rounded hover:shadow-md hover:bg-txt1 transition";const b=B("file","","avatarInput","bg-txt0 flex items-center gap-2 px-2 mt-2");l.appendChild(u),l.appendChild(b);let g=null;b.addEventListener("change",C=>{g=C.target.files?.[0]||null}),u.addEventListener("click",async()=>{if(!g){alert("Aucun fichier sélectionné.");return}if(!/^image\/(jpeg|png)$/.test(g.type)){alert("Formats autorisés: JPG/PNG.");return}if(g.size>2097152){alert("Taille max: 2 Mo.");return}const C=new FormData;C.append("file",g),C.append("username","test1234");try{const v=await fetch("https://transcendence.42.fr:42069/api/auth/upload",{method:"PATCH",body:C,credentials:"include"});if(!v.ok)throw new Error(`HTTP ${v.status}`);alert("Upload réussi ✅")}catch(v){console.log("Échec de l’upload: ",v.message),alert("Échec de l’upload: "+v.message)}});const h=document.createElement("div");h.className="grid grid-cols-3 gap-8 mt-[2%] mx-[1%]";const m=document.createElement("div");m.className="col-span-1 grid gap-4 bg-bg1 border-bg0 border-8 mr-[10%] pb-[45%]";const x=document.createElement("p");x.className="text-center text-bg0 mt-3 text-4xl",x.textContent=p.pTitle2;const f=ce("Username :","username"),y=ce("Password :","••••••"),L=document.createElement("p");L.className="text-bg0 ml-1",L.textContent="Winrate :";const D=document.createElement("p"),_=55;D.textContent=`${_}%`,D.className="ml-1 text-txt0 bg-bg0 mr-[50%] text-center -mt-2",m.appendChild(x),m.appendChild(f.element),m.appendChild(y.element),m.appendChild(l),m.appendChild(L),m.appendChild(D);const T=document.createElement("div");T.className="col-span-1 grid bg-bg1 border-bg0 border-8 -mx-[9%]";const w=document.createElement("p");w.className="text-center text-4xl text-bg0 mt-3",w.textContent=p.pTitle3,T.appendChild(w),[{opponent:"Player123",date:"2025-08-01",touch_blue:1,touch_red:10,score:"10 - 7"},{opponent:"Player123",date:"2025-08-01",touch_blue:1,touch_red:10,score:"10 - 7"},{opponent:"Player123",date:"2025-08-01",touch_blue:1,touch_red:10,score:"10 - 7"},{opponent:"Player123",date:"2025-08-01",touch_blue:1,touch_red:10,score:"10 - 7"},{opponent:"Player123",date:"2025-08-01",touch_blue:1,touch_red:10,score:"10 - 7"},{opponent:"Player123",date:"2025-08-01",touch_blue:1,touch_red:10,score:"10 - 7"},{opponent:"Player123",date:"2025-08-01",touch_blue:1,touch_red:10,score:"10 - 7"}].slice(0,7).forEach(C=>{const v=Ae(C);T.appendChild(v)});const E=document.createElement("div");E.className="col-span-1 bg-bg1 border-bg0 border-8 ml-[10%]";const O=document.createElement("p");O.className="text-center text-4xl text-bg0 mt-3",O.textContent=p.pTitle4,E.appendChild(O);const S=document.createElement("div");S.className="flex items-center gap-2 px-2 mt-2";const N=document.createElement("input");N.type="text",N.placeholder=p.pInput,N.className="flex-1 px-2 py-1 rounded border border-bg0";const R=document.createElement("button");R.textContent=p.pButton1,R.className="bg-bg0 text-txt0 px-4 py-1 rounded hover:bg-bg2 transition";const $=document.createElement("div");return $.className="mt-4",R.onclick=()=>{const C=N.value.trim();if(C!==""){const v=le(C,"in-game");$.appendChild(v),N.value=""}},S.appendChild(N),S.appendChild(R),E.appendChild(S),E.appendChild($),["Alice","Bob","Charlie"].forEach(C=>{const v=le(C,"online");$.appendChild(v)}),h.appendChild(m),h.appendChild(T),h.appendChild(E),e.appendChild(h),e});j.getInstance();const Oe=new A(()=>{document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2"),document.body.classList.remove("fade-out"),document.body.classList.add("fade-in");const e=document.createElement("div"),t=document.createElement("div");t.className="flex justify-center";const n=document.createElement("button");n.className="underline ml-[5%] text-bg0",n.textContent="retour",n.addEventListener("click",g=>{g.preventDefault(),I("/")}),e.appendChild(n);const s=document.createElement("div");s.className="bg-bg1 border-bg0 border-4 px-30 py-30 my-[10%] rounded-3xl";const o=document.createElement("p");o.className="text-bg0 font-bitcount hover:cursor-default text-5xl text-center -mt-[35%] -mx-7",o.textContent="INSCRIPTION",s.appendChild(o);const a=document.createElement("form");a.className="grid";const r=B("text","Username","Username","p-2 bg-bg0 mt-[26%] text-center"),c=B("password","New Password","New Password","p-2 bg-bg0 mt-2 text-center"),i=B("password","New Password","New New Password","p-2 bg-bg0 mt-2 text-center"),l=B("submit","","Valider","font-caveat py-1 bg-txt1 text-bg0 text-xl mt-3 text-center rounded-sm");l.value="S'inscrire",a.appendChild(r),a.appendChild(c),a.appendChild(i),a.appendChild(l),s.appendChild(a),a.onsubmit=g=>{g.preventDefault();const h=r.value.trim(),m=c.value.trim(),x=i.value.trim();if(!h||!m||!x){alert("Veuillez remplir tous les champs.");return}if(m!==x){alert("Les mots de passes ne sont pas identiques!");return}K("https://transcendence.42.fr:42069/api/auth/register","username","password",h,m),localStorage.setItem("username",h)};const u=document.createElement("p");u.className="text-bg0 text-center mt-1 mb-1",u.textContent="or",s.appendChild(u);const b=document.createElement("a");return b.className="text-bg1 bg-bg0 ml-[31%] py-1 px-5",b.textContent="GOOGLE",s.appendChild(b),t.appendChild(s),e.appendChild(t),e}),Me=new A(()=>{document.body.classList.remove("fade-out"),document.body.classList.add("fade-in"),document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const e=document.createElement("div");e.className="flex justify-center ";const t=document.createElement("p");return t.className="text-8xl text-bg0 mt-[20%]",t.textContent="Work In Progress",e.appendChild(t),e}),je=new A(()=>{document.body.classList.remove("fade-out"),document.body.classList.add("fade-in"),document.body.classList.remove("bg-bg1"),document.body.classList.add("bg-bg2");const e=document.createElement("div");e.className="flex justify-center ";const t=document.createElement("p");return t.className="text-8xl text-bg0 mt-[20%]",t.textContent="Work In Progress",e.appendChild(t),e}),k=j.getInstance();k.register("/",Te);k.register("/login",Pe);k.register("/game",Se);k.register("/tournament",Be);k.register("/profile",De);k.register("/register",Oe);k.register("/forgot-password",Me);k.register("/view-profile",je);k.launch();
